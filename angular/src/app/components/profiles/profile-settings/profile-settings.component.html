<div class="main" *ngIf="user">
  <div class="profile-head" *ngIf="user.acf">
    <div class="avatar-container">
      <img class="avatar" *ngIf="user.acf.avatar; else placeholder" src="{{user.acf.avatar.url}}" />
      <ng-template #placeholder><img class="avatar" src="assets/placeholder.jpg" /></ng-template>
    </div>
    <div class="profile-name">
      <h3 class="name">{{ user.name }}</h3>
      <p *ngIf="user.acf.school">{{ user.acf.school }}</p>
    </div>
    <button class="button-follow">
        <mat-icon>settings</mat-icon>
    </button>
  </div>
  <input style="display: none" type="file" (change)="onFileChanged($event)" #fileInput>
  <button class="button button-img" (click)="fileInput.click()">Foto kiezen</button>
  <form [formGroup]="fields" class="form-settings" (ngSubmit)="updateSettings()">
    <input style="display: none;" type="number" formControlName="avatar" name="avatar">
    <div class="form-group">
      <label for="school">School</label><br>
      <input formControlName="school" name="school">
    </div>
    <div class="date-group">
      <label for="goaldate">Slaapdoel datum</label><br>
      <div class="date">
          <input [matDatepicker]="myDatepicker" formControlName="goaldate" name="goaldate">
          <mat-datepicker-toggle [for]="myDatepicker"></mat-datepicker-toggle>
      </div>
      <mat-datepicker #myDatepicker></mat-datepicker>
    </div>
    <div class="form-group">
      <label for="goalamount">Slaapdoel aantal uur</label><br>
      <input type="number" formControlName="goalamount" name="goalamount">
    </div>
    <button type="submit" class="button-update button">Opslaan</button>
  </form>
</div>

